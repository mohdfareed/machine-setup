#!/usr/bin/env zsh

# directories
Projects="$DEV/projects"
iCloud="$HOME/Library/Mobile Documents/com~apple~CloudDocs"
Notebook="$iCloud/Notebook"

# open notebook with vscode
alias notes='code $Notebook'
# exa
alias le="exa -a --git --icons --group-directories-first"
alias lle="exa -a --git --icons --group-directories-first -hl"

# download video from URL
function dl-video {
    usage="usage: $0 URL [dir]"
    dir="${HOME}/Downloads"

    if [[ $# -eq 2 ]] ; then
        dir=$2
    elif [ $# -ne 1 ]; then
        echo $usage
        return 1
    fi

    youtube-dl --write-sub --write-auto-sub --embed-subs --embed-thumbnail \
        --add-metadata --merge-output-format mp4 -o "$dir/%(title)s.%(ext)s" $1
}

# download audio from URL
function dl-audio {
    usage="usage: $0 URL [dir]"
    dir="${HOME}/Downloads"

    if [[ $# -eq 2 ]] ; then
        dir=$2
    elif [ $# -ne 1 ]; then
        echo $usage
        return 1
    fi

    youtube-dl -x -embed-thumbnail --add-metadata --audio-format mp3 \
        -o "${dir}/%(title)s.%(ext)s" $1
}
